<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Anonymizador de CPF em PDF</title>
</head>
<body>
<h2>Anonymizar CPF em PDF</h2>


<input type="file" id="pdfFile" accept="application/pdf">
<button onclick="uploadPDF()">Enviar</button>


<p id="status"></p>


<script>
async function uploadPDF() {
const fileInput = document.getElementById("pdfFile");
if (!fileInput.files.length) {
alert("Selecione um arquivo PDF!");
return;
}


const formData = new FormData();
formData.append("file", fileInput.files[0]);


document.getElementById("status").innerText = "Processando...";


try {
const response = await fetch("https://SEU_BACKEND.onrender.com/anonimizar", {
method: "POST",
body: formData
});


if (!response.ok) {
document.getElementById("status").innerText = "Erro no processamento.";
return;
}


const blob = await response.blob();
const url = window.URL.createObjectURL(blob);


const a = document.createElement("a");
a.href = url;
a.download = "pdf_anonimizado.pdf";
document.body.appendChild(a);
a.click();


document.getElementById("status").innerText = "Download pronto!";
} catch (error) {
document.getElementById("status").innerText = "Erro ao enviar.";
}
}
</script>
</body>
</html>
